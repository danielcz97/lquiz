jQuery(document).ready((function(){function e(){let e={},t=jQuery(".sessionId").val();jQuery(".data-question").each((function(t){e[t]=jQuery(this).val()}));let n="?action=add&session="+t+"&data="+JSON.stringify(e);jQuery.ajax({url:my_ajax_object.ajax_url+n,type:"POST",data:{result:JSON.stringify(e)}})}jQuery("#start-test").on("click",(function(e){let t="?action=start&session="+jQuery(".sessionId").val()+"&minutes="+jQuery(".minutes").val();jQuery.ajax({url:my_ajax_object.ajax_url+t,type:"POST"}),console.log(my_ajax_object.ajax_url+t),0==jQuery(".validationSession").val()&&location.reload()})),jQuery(".reset-session").on("click",(function(e){let t="?action=reset&session="+jQuery(".sessionId").val()+"&minutes="+jQuery(".minutes").val();console.log(t),jQuery.ajax({url:my_ajax_object.ajax_url+t,type:"GET"}),console.log(my_ajax_object.ajax_url+t),location.reload()})),jQuery("#nextButton").on("click",(function(){e()})),jQuery(".navigation-dots-li").on("click",(()=>{e()}))})),window.addEventListener("DOMContentLoaded",(()=>{if(jQuery("body").hasClass("tests-template-default")){let n=0,o=document.querySelector(".question-current"),l=document.querySelector(".question-current"),r=document.querySelectorAll(".question_form").length,a=document.querySelector(".navigation-dots-ul");for(i=0;i<r;i++){let e=document.createElement("li");e.classList.add("navigation-dots-li"),e.id="list-item-"+(i+1),e.appendChild(document.createTextNode("")),a.appendChild(e)}function e(e){let t=document.querySelectorAll(".question_form");for(console.log(t[e]),i=0;i<t.length;i++)t[i].style.display="none";t[e],t[e].style.display="block",function(e){let t,n=document.getElementsByClassName("question_form"),o=document.getElementsByClassName("navigation-dots-li");for(t=0;t<n.length;t++)n[t].className=n[t].className.replace(" active-dot","");for(t=0;t<o.length;t++)o[t].className=o[t].className.replace(" active-dot","");n[e].classList.contains("passed")||(n[e].className+=" passed");n[e].className+=" active-dot",o[e].className+=" active-dot"}(e)}function t(t){let n=document.querySelectorAll(".question_form");parseInt(l.textContent);console.log(t),n.length>t&&e(t)}e(n);let s=document.querySelectorAll(".question_form").length,c=document.querySelectorAll(".question_form");console.log(c),document.querySelector(".question-all").innerHTML+=s;let d=document.querySelector("#nextButton"),u=document.querySelector("#prevButton"),y=1,m=document.querySelectorAll(".navigation-dots-li");for(i=0;i<m.length;i++)m[i].onclick=function(){let t=this.getAttribute("id");n=t.slice(10),e(parseInt(n-1)),o.innerHTML=n};d.onclick=function(){t(parseInt(y-1+1)),y<s&&(y+=1),o.innerHTML=y},u.onclick=function(){t(parseInt(y-1)),y>0&&(y-=1),o.innerHTML=y};let p=document.querySelector(".validationSession").value,f=document.querySelector("#start-test"),h=document.querySelector(".test-content"),g=document.querySelector(".form-questions"),q=document.querySelector(".test-time");0!=p&&(g.style.display="block",f.style.display="none",h.style.display="none",q.style.display="none"),f.addEventListener("click",(()=>{g.style.display="block",f.style.display="none",h.style.display="none",q.style.display="none"}))}function n(){this.value?this.style.setProperty("border-color","#D3D3D3","important"):this.style.setProperty("border-color","#505050","important")}document.querySelectorAll('input[type="text"]').forEach((e=>{e.addEventListener("focusout",n)}))})),document.addEventListener("DOMContentLoaded",(function(e){document.querySelector("#add-row").addEventListener("click",(()=>{!function(){let e=document.querySelectorAll(".empty-row.custom-repeter-text"),t=e[e.length-1],n=document.querySelectorAll(".accordion-item").length,o=t.cloneNode(!0);t.style.display="block";let l=document.querySelectorAll("#repeatable-question");for(i=0;i<l.length-1;i++)t.before(o),t.firstElementChild.children[1].firstElementChild.children[2].children[2].firstElementChild.children[1].children[1].setAttribute("name","correct["+n+"][]"),t.firstElementChild.firstElementChild.firstElementChild.setAttribute("aria-controls","new"+n),t.firstElementChild.firstElementChild.firstElementChild.setAttribute("data-bs-target","#new"+n),t.firstElementChild.firstElementChild.firstElementChild.innerText="New Question",t.firstElementChild.childNodes[3].id="new"+n;document.querySelector(".remove-row").addEventListener("click",(()=>{removeRowQuestion()}))}()}));let t=document.querySelectorAll(".remove-row");for(i=0;i<t.length;i++)t[i].addEventListener("click",(function(){this.parentNode.parentNode.parentNode.parentNode.classList.contains("accordion-item")&&this.parentNode.parentNode.parentNode.parentNode.remove()}));let n=document.querySelectorAll("#add-new-answer");for(i=0;i<n.length;i++)n[i].addEventListener("click",(function(){let e=this.parentElement.parentElement.firstElementChild,t=e.cloneNode(!0);e.after(t)}));let o=document.querySelectorAll(".remove-answer");for(i=0;i<o.length;i++)o[i].onclick=function(){this.parentNode.remove()};let l=document.querySelectorAll(".accordion-button");document.querySelectorAll(".accordion-button").length;for(i=0;i<l.length-1;i++)l[i].setAttribute("aria-controls","new"+i),l[i].setAttribute("data-bs-target","#new"+i),l[i].parentNode.nextElementSibling.id="new"+i;let r=document.querySelectorAll(".category");document.querySelectorAll(".image-wrapper");for(i=0;i<r.length;i++)r[i].addEventListener("change",(e=>{let t=e.target.nextElementSibling,n=t.querySelector(".image-wrapper"),o=t.querySelectorAll(".form-check-input");switch(e.currentTarget.value){case"0":for(n.style.display="none",i=0;i<o.length;i++)o[i].style.setProperty("display","none","important");break;case"1":for(n.style.display="block",i=0;i<o.length;i++)o[i].style.setProperty("display","none","important");break;case"2":for(n.style.display="none",i=0;i<o.length;i++)o[i].style.setProperty("display","none","important");break;case"3":for(n.style.display="none",i=0;i<o.length;i++)o[i].style.setProperty("display","none","important");break;case"4":for(n.style.display="none",i=0;i<o.length;i++)o[i].style.setProperty("display","block","important");break;case"5":for(n.style.display="none",i=0;i<o.length;i++)o[i].style.setProperty("display","none","important")}}));let a=document.querySelectorAll(".textarea-field");for(i=0;i<a.length;i++)a[i].value.split(", ")})),window.addEventListener("DOMContentLoaded",(()=>{if(jQuery("body").hasClass("tests-template-default")){let n=new Date(document.querySelector(".endtime").value),o=new Date(document.querySelector(".starttime").value);Date.now(),o.getTime();var e=new Date(n).getTime(),t=(n.getTimezoneOffset(),setInterval((function(){var n=(new Date).getTime(),o=e-n,l=(Math.floor(o/864e5),Math.floor(o%864e5/36e5),Math.floor(o%36e5/6e4)),i=Math.floor(o%6e4/1e3);isNaN(l)||isNaN(i)||(document.getElementById("timer").innerHTML=l+"m "+i+"s "),o<0&&(clearInterval(t),document.querySelector(".time-left").innerHTML="KONIEC CZASU",document.querySelector(".form-questions").remove(),document.querySelector(".after-submit").style.display="block")}),1e3))}}));